(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,73884,e=>{"use strict";let r=(0,e.i(75254).default)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["XCircle",()=>r],73884)},59725,31278,e=>{"use strict";var r=e.i(66027),s=e.i(54616),a=e.i(12598),t=e.i(44215),i=e.i(37374);let l={async getAll(e,r){try{let s=new URLSearchParams;e&&s.append("status",e),r&&s.append("userId",r);let a=s.toString(),l=a?`${i.API_CONFIG.ENDPOINTS.BOOKINGS.BASE}?${a}`:i.API_CONFIG.ENDPOINTS.BOOKINGS.BASE;return(await t.apiClient.get(l)).data}catch(e){throw Error((0,t.handleApiError)(e))}},async getById(e){try{return(await t.apiClient.get(i.API_CONFIG.ENDPOINTS.BOOKINGS.BY_ID(e))).data}catch(e){throw Error((0,t.handleApiError)(e))}},async create(e){try{return(await t.apiClient.post(i.API_CONFIG.ENDPOINTS.BOOKINGS.BASE,e)).data}catch(e){throw Error((0,t.handleApiError)(e))}},async update(e,r){try{return(await t.apiClient.patch(i.API_CONFIG.ENDPOINTS.BOOKINGS.BY_ID(e),r)).data}catch(e){throw Error((0,t.handleApiError)(e))}},async delete(e){try{await t.apiClient.delete(i.API_CONFIG.ENDPOINTS.BOOKINGS.BY_ID(e))}catch(e){throw Error((0,t.handleApiError)(e))}}};var c=e.i(46696);function n(e,s){return(0,r.useQuery)({queryKey:["bookings",e,s],queryFn:()=>l.getAll(e,s)})}function d(){let e=(0,a.useQueryClient)();return(0,s.useMutation)({mutationFn:e=>l.create(e),onSuccess:()=>{e.invalidateQueries({queryKey:["bookings"]}),e.invalidateQueries({queryKey:["notifications"]}),c.toast.success("Booking created successfully!")},onError:e=>{c.toast.error(e.message||"Failed to create booking")}})}e.s(["useBookings",()=>n,"useCreateBooking",()=>d],59725);let o=(0,e.i(75254).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>o],31278)},82553,e=>{"use strict";var r=e.i(43476),s=e.i(85517),a=e.i(70065),t=e.i(94179),i=e.i(67881),l=e.i(19658),c=e.i(59725),n=e.i(3116),d=e.i(69638),o=e.i(73884),u=e.i(87316);let h=(0,e.i(75254).default)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var m=e.i(31278),p=e.i(22016),x=e.i(1851);function g(){let{user:e}=(0,l.useAuth)(),{data:g=[],isLoading:N}=(0,c.useBookings)(void 0,e?.id),j=g.filter(e=>"pending"===e.status),b=g.filter(e=>"approved"===e.status),y=g.filter(e=>"rejected"===e.status),f=[{label:"Pending Approval",value:j.length,icon:n.Clock,color:"text-status-pending",bgColor:"bg-status-pending/20"},{label:"Approved",value:b.length,icon:d.CheckCircle,color:"text-status-approved",bgColor:"bg-status-approved/20"},{label:"Rejected",value:y.length,icon:o.XCircle,color:"text-status-rejected",bgColor:"bg-status-rejected/20"}];return(0,r.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,r.jsx)(s.UserHeader,{}),(0,r.jsxs)("main",{className:"container mx-auto px-4 py-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsxs)("h1",{className:"text-3xl font-bold mb-2",children:["Welcome back, ",e?.name||"User","!"]}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Manage your bookings and request new spaces"})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:f.map(e=>(0,r.jsx)(a.Card,{className:"bg-card border-border",children:(0,r.jsx)(a.CardContent,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("div",{className:`p-3 rounded-lg ${e.bgColor}`,children:(0,r.jsx)(e.icon,{className:`h-6 w-6 ${e.color}`})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:e.label}),(0,r.jsx)("p",{className:"text-3xl font-bold",children:e.value})]})]})})},e.label))}),(0,r.jsx)("div",{className:"mb-8",children:(0,r.jsx)(p.default,{href:"/user/book",children:(0,r.jsxs)(i.Button,{size:"lg",className:"gap-2",children:[(0,r.jsx)(u.Calendar,{className:"h-5 w-5"}),"Book a Space",(0,r.jsx)(h,{className:"h-4 w-4"})]})})}),(0,r.jsxs)(a.Card,{className:"bg-card border-border",children:[(0,r.jsxs)(a.CardHeader,{className:"flex flex-row items-center justify-between",children:[(0,r.jsx)(a.CardTitle,{children:"Your Recent Bookings"}),(0,r.jsx)(p.default,{href:"/user/applications",children:(0,r.jsx)(i.Button,{variant:"outline",size:"sm",children:"View All"})})]}),(0,r.jsx)(a.CardContent,{children:N?(0,r.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,r.jsx)(m.Loader2,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):0===g.length?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)(u.Calendar,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,r.jsx)("h3",{className:"font-medium mb-2",children:"No bookings yet"}),(0,r.jsx)("p",{className:"text-muted-foreground mb-4",children:"Start by booking your first space"}),(0,r.jsx)(p.default,{href:"/user/book",children:(0,r.jsx)(i.Button,{children:"Book a Space"})})]}):(0,r.jsx)("div",{className:"space-y-4",children:g.slice(0,5).map(e=>(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 p-4 rounded-lg bg-secondary/50",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("div",{className:"w-12 h-12 rounded-lg bg-primary/20 flex items-center justify-center",children:(0,r.jsx)(u.Calendar,{className:"h-6 w-6 text-primary"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium",children:e.space?.name||"Unknown Space"}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:[(0,x.format)(new Date((e.date,e.date)),"EEEE, MMMM d, yyyy")," â€¢ ",e.startTime," -"," ",e.endTime]})]})]}),(e=>{switch(e){case"pending":return(0,r.jsxs)(t.Badge,{className:"bg-status-pending/20 text-status-pending border-0 gap-1",children:[(0,r.jsx)(n.Clock,{className:"h-3 w-3"}),"Pending"]});case"approved":return(0,r.jsxs)(t.Badge,{className:"bg-status-approved/20 text-status-approved border-0 gap-1",children:[(0,r.jsx)(d.CheckCircle,{className:"h-3 w-3"}),"Approved"]});case"rejected":return(0,r.jsxs)(t.Badge,{className:"bg-status-rejected/20 text-status-rejected border-0 gap-1",children:[(0,r.jsx)(o.XCircle,{className:"h-3 w-3"}),"Rejected"]})}})(e.status)]},e.id))})})]})]})]})}e.s(["default",()=>g],82553)}]);