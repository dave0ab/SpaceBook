(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,3116,e=>{"use strict";let t=(0,e.i(75254).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["Clock",()=>t],3116)},85517,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(22016),r=e.i(18566),n=e.i(7486),i=e.i(45423),d=e.i(84614),l=e.i(64659);let o=(0,e.i(75254).default)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);var c=e.i(37727),u=e.i(67881),m=e.i(63415),x=e.i(19658),h=e.i(67403),p=e.i(34054),f=e.i(47163);let g=[{href:"/user/dashboard",label:"Dashboard"},{href:"/user/book",label:"Book Space"},{href:"/user/calendar",label:"My Calendar"},{href:"/user/applications",label:"Applications"}];function j(){let e=(0,r.usePathname)(),{user:j,logout:v}=(0,x.useAuth)(),{data:N=[]}=(0,h.useNotifications)(),{data:y=0}=(0,h.useUnreadNotificationCount)(),[b,w]=(0,s.useState)(!1),[C,D]=(0,s.useState)(!1),M=async()=>{await v()};return(0,t.jsx)("header",{className:"sticky top-0 z-50 bg-card border-b border-border",children:(0,t.jsxs)("div",{className:"container mx-auto px-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,t.jsxs)(a.default,{href:"/user/dashboard",className:"flex items-center gap-2",children:[(0,t.jsx)(n.Building2,{className:"h-7 w-7 text-primary"}),(0,t.jsx)("span",{className:"text-xl font-bold",children:"SpaceBook"})]}),(0,t.jsx)("nav",{className:"hidden md:flex items-center gap-1",children:g.map(s=>(0,t.jsx)(a.default,{href:s.href,className:(0,f.cn)("px-4 py-2 rounded-lg text-sm font-medium transition-colors",e===s.href?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-muted"),children:s.label},s.href))}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)(u.Button,{variant:"ghost",size:"icon",onClick:()=>w(!b),className:"relative",children:[(0,t.jsx)(i.Bell,{className:"h-5 w-5"}),y>0&&(0,t.jsx)("span",{className:"absolute -top-1 -right-1 h-5 w-5 rounded-full bg-destructive text-destructive-foreground text-xs flex items-center justify-center",children:y})]}),b&&(0,t.jsx)(p.NotificationTray,{notifications:N,onClose:()=>w(!1)})]}),(0,t.jsxs)(m.DropdownMenu,{children:[(0,t.jsx)(m.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsxs)(u.Button,{variant:"ghost",className:"gap-2 hidden sm:flex",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center",children:(0,t.jsx)(d.User,{className:"h-4 w-4 text-primary"})}),(0,t.jsx)("span",{className:"font-medium",children:j?.name||"User"}),(0,t.jsx)(l.ChevronDown,{className:"h-4 w-4 text-muted-foreground"})]})}),(0,t.jsxs)(m.DropdownMenuContent,{align:"end",className:"w-48",children:[(0,t.jsx)(m.DropdownMenuItem,{children:"Profile Settings"}),(0,t.jsx)(m.DropdownMenuSeparator,{}),(0,t.jsx)(m.DropdownMenuItem,{onClick:M,children:"Logout"})]})]}),(0,t.jsx)(u.Button,{variant:"ghost",size:"icon",className:"md:hidden",onClick:()=>D(!C),children:C?(0,t.jsx)(c.X,{className:"h-5 w-5"}):(0,t.jsx)(o,{className:"h-5 w-5"})})]})]}),C&&(0,t.jsx)("nav",{className:"md:hidden py-4 border-t border-border",children:g.map(s=>(0,t.jsx)(a.default,{href:s.href,onClick:()=>D(!1),className:(0,f.cn)("block px-4 py-3 rounded-lg text-sm font-medium transition-colors",e===s.href?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-muted"),children:s.label},s.href))})]})})}e.s(["UserHeader",()=>j],85517)},8199,39978,91855,50516,88594,19578,73375,63059,e=>{"use strict";var t=e.i(81092);function s(e,s){let a=(0,t.toDate)(e,s?.in);return a.setDate(1),a.setHours(0,0,0,0),a}function a(e,s){let a=(0,t.toDate)(e,s?.in),r=a.getMonth();return a.setFullYear(a.getFullYear(),r+1,0),a.setHours(23,59,59,999),a}e.s(["startOfMonth",()=>s],8199),e.s(["endOfMonth",()=>a],39978);var r=e.i(45110),n=e.i(77241);function i(e,t){let{start:s,end:a}=function(e,t){let[s,a]=(0,r.normalizeDates)(e,t.start,t.end);return{start:s,end:a}}(t?.in,e),i=+s>+a,d=i?+s:+a,l=i?a:s;l.setHours(0,0,0,0);let o=t?.step??1;if(!o)return[];o<0&&(o=-o,i=!i);let c=[];for(;+l<=d;)c.push((0,n.constructFrom)(s,l)),l.setDate(l.getDate()+o),l.setHours(0,0,0,0);return i?c.reverse():c}e.s(["eachDayOfInterval",()=>i],91855);var d=e.i(85890);function l(e,t,s){let[a,n]=(0,r.normalizeDates)(s?.in,e,t);return+(0,d.startOfDay)(a)==+(0,d.startOfDay)(n)}function o(e,s,a){let r=(0,t.toDate)(e,a?.in);if(isNaN(s))return(0,n.constructFrom)(a?.in||e,NaN);if(!s)return r;let i=r.getDate(),d=(0,n.constructFrom)(a?.in||e,r.getTime());return(d.setMonth(r.getMonth()+s+1,0),i>=d.getDate())?d:(r.setFullYear(d.getFullYear(),d.getMonth(),i),r)}function c(e,t,s){return o(e,-t,s)}e.s(["isSameDay",()=>l],50516),e.s(["addMonths",()=>o],88594),e.s(["subMonths",()=>c],19578);let u=(0,e.i(75254).default)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);e.s(["ChevronLeft",()=>u],73375);var m=e.i(46349);e.s(["ChevronRight",()=>m.default],63059)},87981,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(85517),r=e.i(70065),n=e.i(67881),i=e.i(94179),d=e.i(41883),l=e.i(27250),o=e.i(1851),c=e.i(8199),u=e.i(39978),m=e.i(91855),x=e.i(50516),h=e.i(88594),p=e.i(19578),f=e.i(73375),g=e.i(63059),j=e.i(3116),v=e.i(69638),N=e.i(47163);function y(){let{bookings:e,currentUser:y}=(0,d.useBooking)(),[b,w]=(0,s.useState)(new Date),C=y?e.filter(e=>e.userId===y.id&&("approved"===e.status||"pending"===e.status)):[],D=(0,c.startOfMonth)(b),M=(0,u.endOfMonth)(b),k=(0,m.eachDayOfInterval)({start:D,end:M});return(0,t.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,t.jsx)(a.UserHeader,{}),(0,t.jsxs)("main",{className:"container mx-auto px-4 py-8",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"My Calendar"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"View your approved and pending bookings"})]}),(0,t.jsxs)(r.Card,{className:"bg-card border-border",children:[(0,t.jsxs)(r.CardHeader,{className:"flex flex-row items-center justify-between",children:[(0,t.jsx)(r.CardTitle,{children:(0,o.format)(b,"MMMM yyyy")}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(n.Button,{variant:"outline",size:"icon",onClick:()=>w((0,p.subMonths)(b,1)),children:(0,t.jsx)(f.ChevronLeft,{className:"h-4 w-4"})}),(0,t.jsx)(n.Button,{variant:"outline",onClick:()=>w(new Date),children:"Today"}),(0,t.jsx)(n.Button,{variant:"outline",size:"icon",onClick:()=>w((0,h.addMonths)(b,1)),children:(0,t.jsx)(g.ChevronRight,{className:"h-4 w-4"})})]})]}),(0,t.jsxs)(r.CardContent,{children:[(0,t.jsxs)("div",{className:"flex items-center gap-6 mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full bg-status-approved"}),(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"Approved"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full bg-status-pending"}),(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"Pending"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-7 gap-1",children:[["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map(e=>(0,t.jsx)("div",{className:"text-center py-2 font-medium text-muted-foreground text-sm",children:e},e)),Array.from({length:(D.getDay()+6)%7},(e,s)=>(0,t.jsx)("div",{className:"min-h-[120px]"},`pad-${s}`)),k.map(e=>{let s,a=(s=(0,o.format)(e,"yyyy-MM-dd"),C.filter(e=>e.date===s));return(0,t.jsxs)("div",{className:(0,N.cn)("min-h-[120px] border border-border rounded-lg p-2",(0,x.isSameDay)(e,new Date)&&"border-primary bg-primary/5"),children:[(0,t.jsx)("div",{className:(0,N.cn)("text-sm font-medium mb-2",(0,x.isSameDay)(e,new Date)?"text-primary":"text-foreground"),children:(0,o.format)(e,"d")}),(0,t.jsx)("div",{className:"space-y-1",children:a.map(e=>{let s=(0,l.getSpaceById)(e.spaceId);return(0,t.jsxs)("div",{className:(0,N.cn)("px-2 py-1 rounded text-xs","approved"===e.status?"bg-status-approved/20 text-status-approved":"bg-status-pending/20 text-status-pending"),children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:["approved"===e.status?(0,t.jsx)(v.CheckCircle,{className:"h-3 w-3"}):(0,t.jsx)(j.Clock,{className:"h-3 w-3"}),(0,t.jsx)("span",{className:"truncate",children:s?.name.split(" ")[0]})]}),(0,t.jsx)("div",{className:"text-xs opacity-75",children:e.startTime})]},e.id)})})]},e.toISOString())})]})]})]}),(0,t.jsxs)(r.Card,{className:"bg-card border-border mt-8",children:[(0,t.jsx)(r.CardHeader,{children:(0,t.jsx)(r.CardTitle,{children:"Upcoming Bookings"})}),(0,t.jsx)(r.CardContent,{children:0===C.length?(0,t.jsx)("p",{className:"text-center text-muted-foreground py-8",children:"No upcoming bookings"}):(0,t.jsx)("div",{className:"space-y-3",children:C.filter(e=>new Date(e.date)>=new Date).sort((e,t)=>new Date(e.date).getTime()-new Date(t.date).getTime()).slice(0,5).map(e=>{let s=(0,l.getSpaceById)(e.spaceId);return(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg bg-secondary/50",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:(0,N.cn)("w-2 h-10 rounded-full","approved"===e.status?"bg-status-approved":"bg-status-pending")}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:s?.name}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:[(0,o.format)(new Date(e.date),"EEE, MMM d")," â€¢ ",e.startTime," - ",e.endTime]})]})]}),(0,t.jsx)(i.Badge,{className:(0,N.cn)("border-0","approved"===e.status?"bg-status-approved/20 text-status-approved":"bg-status-pending/20 text-status-pending"),children:e.status})]},e.id)})})})]})]})]})}e.s(["default",()=>y])}]);