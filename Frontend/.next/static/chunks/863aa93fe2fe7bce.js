(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,61911,e=>{"use strict";let s=(0,e.i(75254).default)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);e.s(["Users",()=>s],61911)},7730,63353,e=>{"use strict";var s=e.i(43476),t=e.i(22016),r=e.i(18566),a=e.i(47163),i=e.i(75254);let n=(0,i.default)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);var d=e.i(87316),l=e.i(91741),c=e.i(61911);let o=(0,i.default)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);var m=e.i(7486);let h=(0,i.default)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),u=[{href:"/admin/dashboard",label:"Dashboard",icon:n},{href:"/admin/calendar",label:"Calendar",icon:d.Calendar},{href:"/admin/bookings",label:"Bookings",icon:l.ClipboardList},{href:"/admin/users",label:"Users",icon:c.Users},{href:"/admin/analytics",label:"Analytics",icon:o}];function x(){let e=(0,r.usePathname)();return(0,s.jsxs)("aside",{className:"w-64 bg-sidebar border-r border-sidebar-border flex flex-col h-screen sticky top-0",children:[(0,s.jsx)("div",{className:"p-6 border-b border-sidebar-border",children:(0,s.jsxs)(t.default,{href:"/admin/dashboard",className:"flex items-center gap-2",children:[(0,s.jsx)(m.Building2,{className:"h-8 w-8 text-primary"}),(0,s.jsx)("span",{className:"text-xl font-bold text-sidebar-foreground",children:"SpaceBook"})]})}),(0,s.jsx)("nav",{className:"flex-1 p-4 space-y-1",children:u.map(r=>{let i=e===r.href;return(0,s.jsxs)(t.default,{href:r.href,className:(0,a.cn)("flex items-center gap-3 px-4 py-3 rounded-lg transition-colors",i?"bg-sidebar-accent text-sidebar-primary":"text-sidebar-foreground hover:bg-sidebar-accent/50"),children:[(0,s.jsx)(r.icon,{className:"h-5 w-5"}),(0,s.jsx)("span",{className:"font-medium",children:r.label})]},r.href)})}),(0,s.jsx)("div",{className:"p-4 border-t border-sidebar-border",children:(0,s.jsxs)(t.default,{href:"/",className:"flex items-center gap-3 px-4 py-3 rounded-lg text-sidebar-foreground hover:bg-sidebar-accent/50 transition-colors",children:[(0,s.jsx)(h,{className:"h-5 w-5"}),(0,s.jsx)("span",{className:"font-medium",children:"Logout"})]})})]})}e.s(["AdminSidebar",()=>x],7730);var f=e.i(71645),g=e.i(45423),p=e.i(64659),y=e.i(84614),b=e.i(67881),j=e.i(63415),v=e.i(41883),N=e.i(34054);function w(){let{currentUser:e,notifications:t}=(0,v.useBooking)(),[r,a]=(0,f.useState)(!1),i=t.filter(e=>"admin-1"===e.userId),n=i.filter(e=>!e.read).length;return(0,s.jsxs)("header",{className:"h-16 bg-card border-b border-border px-6 flex items-center justify-between sticky top-0 z-40",children:[(0,s.jsx)("div",{children:(0,s.jsx)("h1",{className:"text-lg font-semibold text-card-foreground",children:"Admin Dashboard"})}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)(b.Button,{variant:"ghost",size:"icon",onClick:()=>a(!r),className:"relative",children:[(0,s.jsx)(g.Bell,{className:"h-5 w-5"}),n>0&&(0,s.jsx)("span",{className:"absolute -top-1 -right-1 h-5 w-5 rounded-full bg-destructive text-destructive-foreground text-xs flex items-center justify-center",children:n})]}),r&&(0,s.jsx)(N.NotificationTray,{notifications:i,onClose:()=>a(!1)})]}),(0,s.jsxs)(j.DropdownMenu,{children:[(0,s.jsx)(j.DropdownMenuTrigger,{asChild:!0,children:(0,s.jsxs)(b.Button,{variant:"ghost",className:"gap-2",children:[(0,s.jsx)("div",{className:"w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center",children:(0,s.jsx)(y.User,{className:"h-4 w-4 text-primary"})}),(0,s.jsx)("span",{className:"font-medium",children:e?.name||"Admin"}),(0,s.jsx)(p.ChevronDown,{className:"h-4 w-4 text-muted-foreground"})]})}),(0,s.jsxs)(j.DropdownMenuContent,{align:"end",className:"w-48",children:[(0,s.jsx)(j.DropdownMenuItem,{children:"Profile Settings"}),(0,s.jsx)(j.DropdownMenuSeparator,{}),(0,s.jsx)(j.DropdownMenuItem,{asChild:!0,children:(0,s.jsx)("a",{href:"/",children:"Logout"})})]})]})]})]})}e.s(["AdminTopbar",()=>w],63353)},95727,e=>{"use strict";var s=e.i(77241),t=e.i(81092);function r(e,r,a){let i=(0,t.toDate)(e,a?.in);return isNaN(r)?(0,s.constructFrom)(a?.in||e,NaN):(r&&i.setDate(i.getDate()+r),i)}e.s(["addDays",()=>r])},8199,39978,91855,50516,88594,19578,73375,63059,e=>{"use strict";var s=e.i(81092);function t(e,t){let r=(0,s.toDate)(e,t?.in);return r.setDate(1),r.setHours(0,0,0,0),r}function r(e,t){let r=(0,s.toDate)(e,t?.in),a=r.getMonth();return r.setFullYear(r.getFullYear(),a+1,0),r.setHours(23,59,59,999),r}e.s(["startOfMonth",()=>t],8199),e.s(["endOfMonth",()=>r],39978);var a=e.i(45110),i=e.i(77241);function n(e,s){let{start:t,end:r}=function(e,s){let[t,r]=(0,a.normalizeDates)(e,s.start,s.end);return{start:t,end:r}}(s?.in,e),n=+t>+r,d=n?+t:+r,l=n?r:t;l.setHours(0,0,0,0);let c=s?.step??1;if(!c)return[];c<0&&(c=-c,n=!n);let o=[];for(;+l<=d;)o.push((0,i.constructFrom)(t,l)),l.setDate(l.getDate()+c),l.setHours(0,0,0,0);return n?o.reverse():o}e.s(["eachDayOfInterval",()=>n],91855);var d=e.i(85890);function l(e,s,t){let[r,i]=(0,a.normalizeDates)(t?.in,e,s);return+(0,d.startOfDay)(r)==+(0,d.startOfDay)(i)}function c(e,t,r){let a=(0,s.toDate)(e,r?.in);if(isNaN(t))return(0,i.constructFrom)(r?.in||e,NaN);if(!t)return a;let n=a.getDate(),d=(0,i.constructFrom)(r?.in||e,a.getTime());return(d.setMonth(a.getMonth()+t+1,0),n>=d.getDate())?d:(a.setFullYear(d.getFullYear(),d.getMonth(),n),a)}function o(e,s,t){return c(e,-s,t)}e.s(["isSameDay",()=>l],50516),e.s(["addMonths",()=>c],88594),e.s(["subMonths",()=>o],19578);let m=(0,e.i(75254).default)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);e.s(["ChevronLeft",()=>m],73375);var h=e.i(46349);e.s(["ChevronRight",()=>h.default],63059)},7628,e=>{"use strict";var s=e.i(43476),t=e.i(71645),r=e.i(7730),a=e.i(63353),i=e.i(70065),n=e.i(67881),d=e.i(41883),l=e.i(27250),c=e.i(1851),o=e.i(14522),m=e.i(95727),h=e.i(8199),u=e.i(39978),x=e.i(91855),f=e.i(50516),g=e.i(88594),p=e.i(19578),y=e.i(73375),b=e.i(63059),j=e.i(47163);function v(){let{bookings:e}=(0,d.useBooking)(),[v,N]=(0,t.useState)(new Date),[w,k]=(0,t.useState)("week"),D=e.filter(e=>"approved"===e.status),M=e=>{let s=(0,l.getSpaceById)(e);if(!s)return"bg-primary";switch(s.type){case"auditorium":return"bg-auditorium";case"gym":return"bg-gym";case"soccer":return"bg-soccer";default:return"bg-primary"}},C=(0,o.startOfWeek)(v,{weekStartsOn:1}),S=Array.from({length:7},(e,s)=>(0,m.addDays)(C,s)),B=(0,h.startOfMonth)(v),O=(0,u.endOfMonth)(v),I=(0,x.eachDayOfInterval)({start:B,end:O}),T=e=>{let s=(0,c.format)(e,"yyyy-MM-dd");return D.filter(e=>e.date===s)};return(0,s.jsxs)("div",{className:"flex min-h-screen bg-background",children:[(0,s.jsx)(r.AdminSidebar,{}),(0,s.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,s.jsx)(a.AdminTopbar,{}),(0,s.jsx)("main",{className:"flex-1 p-6",children:(0,s.jsxs)(i.Card,{className:"bg-card border-border",children:[(0,s.jsxs)(i.CardHeader,{className:"flex flex-row items-center justify-between",children:[(0,s.jsx)(i.CardTitle,{children:"Calendar View"}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"flex bg-secondary rounded-lg p-1",children:[(0,s.jsx)(n.Button,{variant:"week"===w?"default":"ghost",size:"sm",onClick:()=>k("week"),children:"Week"}),(0,s.jsx)(n.Button,{variant:"month"===w?"default":"ghost",size:"sm",onClick:()=>k("month"),children:"Month"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(n.Button,{variant:"outline",size:"icon",onClick:()=>{"week"===w?N((0,m.addDays)(v,-7)):N((0,p.subMonths)(v,1))},children:(0,s.jsx)(y.ChevronLeft,{className:"h-4 w-4"})}),(0,s.jsx)("span",{className:"font-medium min-w-[150px] text-center",children:"week"===w?`${(0,c.format)(S[0],"MMM d")} - ${(0,c.format)(S[6],"MMM d, yyyy")}`:(0,c.format)(v,"MMMM yyyy")}),(0,s.jsx)(n.Button,{variant:"outline",size:"icon",onClick:()=>{"week"===w?N((0,m.addDays)(v,7)):N((0,g.addMonths)(v,1))},children:(0,s.jsx)(b.ChevronRight,{className:"h-4 w-4"})})]})]})]}),(0,s.jsxs)(i.CardContent,{children:[(0,s.jsxs)("div",{className:"flex items-center gap-6 mb-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-3 h-3 rounded bg-auditorium"}),(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:"Auditorium"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-3 h-3 rounded bg-gym"}),(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:"Gym"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-3 h-3 rounded bg-soccer"}),(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:"Soccer Fields"})]})]}),"week"===w?(0,s.jsx)("div",{className:"grid grid-cols-7 gap-2",children:S.map(e=>(0,s.jsxs)("div",{className:"min-h-[200px]",children:[(0,s.jsxs)("div",{className:(0,j.cn)("text-center py-2 rounded-t-lg font-medium",(0,f.isSameDay)(e,new Date)?"bg-primary text-primary-foreground":"bg-secondary"),children:[(0,s.jsx)("div",{className:"text-xs text-muted-foreground",children:(0,c.format)(e,"EEE")}),(0,s.jsx)("div",{className:"text-lg",children:(0,c.format)(e,"d")})]}),(0,s.jsx)("div",{className:"border border-border rounded-b-lg p-2 space-y-1 min-h-[150px]",children:T(e).map(e=>{let t=(0,l.getSpaceById)(e.spaceId);return(0,s.jsxs)("div",{className:(0,j.cn)("px-2 py-1 rounded text-xs text-background font-medium",M(e.spaceId)),children:[(0,s.jsx)("div",{className:"truncate",children:t?.name}),(0,s.jsx)("div",{className:"opacity-80",children:e.startTime})]},e.id)})})]},e.toISOString()))}):(0,s.jsxs)("div",{className:"grid grid-cols-7 gap-1",children:[["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map(e=>(0,s.jsx)("div",{className:"text-center py-2 font-medium text-muted-foreground text-sm",children:e},e)),Array.from({length:(B.getDay()+6)%7},(e,t)=>(0,s.jsx)("div",{className:"min-h-[100px]"},`pad-${t}`)),I.map(e=>(0,s.jsxs)("div",{className:(0,j.cn)("min-h-[100px] border border-border rounded-lg p-2",(0,f.isSameDay)(e,new Date)&&"border-primary"),children:[(0,s.jsx)("div",{className:(0,j.cn)("text-sm font-medium mb-1",(0,f.isSameDay)(e,new Date)?"text-primary":"text-foreground"),children:(0,c.format)(e,"d")}),(0,s.jsxs)("div",{className:"space-y-1",children:[T(e).slice(0,2).map(e=>{let t=(0,l.getSpaceById)(e.spaceId);return(0,s.jsx)("div",{className:(0,j.cn)("px-1 py-0.5 rounded text-xs text-background truncate",M(e.spaceId)),children:t?.name.split(" ")[0]},e.id)}),T(e).length>2&&(0,s.jsxs)("div",{className:"text-xs text-muted-foreground",children:["+",T(e).length-2," more"]})]})]},e.toISOString()))]})]})]})})]})]})}e.s(["default",()=>v])}]);